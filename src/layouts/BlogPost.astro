---
import type { CollectionEntry } from 'astro:content';
import Tag from '../components/tag.astro';
import { Image } from 'astro:assets';
type Props = CollectionEntry<'blog'>['data'];

const { title, tags, draft, coverImage } = Astro.props as Props;
const hasTags = !!tags.length;
---

<section class="mt-8 pb-24">
  <div>
    {
      coverImage && (
        <Image
          src={coverImage.url}
          alt={coverImage.alt}
          priority
          layout="constrained"
          class="w-full rounded-xl mb-5"
        />
      )
    }
    <h1 class="post-title inline">
      {title}
    </h1>
    {
      hasTags && (
        <div class="flex gap-3 mb-8 mt-4">
          {tags.map((tag) => (
            <Tag>{tag}</Tag>
          ))}

          {draft && <span class="badge badge-sm badge-outline badge-warning">draft</span>}
        </div>
      )
    }
  </div>
  <article class="prose prose-lg">
    <slot />
  </article>
</section>
